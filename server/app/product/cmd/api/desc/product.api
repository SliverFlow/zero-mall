syntax = "v1"

info(
	title: "product api file"
	desc: "商品相关 api"
	author: "SliverFlow"
	email: "202606540@qq.com"
	version: "v1.0"
)

import "api/product.api"

// product 不需要鉴权的
@server(
	group : public
	prefix : v1
)
service product {
	@handler productList
	post /product/list (Nil) returns (Nil)
	@handler productFind
	post /product/find (ProductFindReq) returns (ProductFindReqly)
}

// product 需要鉴权的
@server(
	group : private
	prefix : v1
	middleware : Auth
)
service product {
	@handler productCreate
	post /product/create (Nil) returns (Nil)
}

// category 不需要鉴权的
@server(
	group : public
	prefix : v1
)
service product {
	@handler categoryList
	post /category/list (Nil) returns (CategoryListReply)
	
	@handler categoryIDByProductList
	post /category/productList (categoryIDByProductListReq) returns (categoryIDByProductListReply)
}

// category 需要鉴权的
@server(
	group : private
	prefix : v1
	middleware : Auth
)
service product {
	@handler categoryCreate
	post /category/create (Nil) returns (Nil)
}